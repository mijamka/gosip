<!-- Display a list of all users (username and email) -->
<!-- Allow admin to remove the users from database -->
<!-- Future development: introduce user levels, so only highest level have an access to this part -->

<!-- head -->
<!doctype html>
<html lang="en">
<head>
    <!-- Include partials -->
    <%- include('../partials/header.ejs') %>
        <%- include('../partials/header_admin.ejs') %>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sign-in/">

            <!-- Bootstrap core CSS -->
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
                integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
                crossorigin="anonymous">

</head>

<!-- Body -->
<body>
    <!-- Include navigation -->
    <%- include('../partials/nav_admin.ejs') %>

        <!-- Create a table with users' data  -->
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Display data fetched from the database -->
                    <% if(users){ 
                        users.forEach(function (user){
                        %>
                    <tr>
                        <td>
                             <%= user.name %> 
                        </td>
                        <td>
                             <%= user.email %> 
                        </td>
                        <th>
                            <a href="/auth/delete/<%= user.name %>" class='link-warning'> Delete </a>
                        </th>
                    </tr>
                </tbody>
                <% });} %>

            <!-- Include the flash msges -->
            <%- include('../partials/msges.ejs') %>

            <!-- Include Bootstrap scripts -->
            <%- include('../partials/footer_admin.ejs') %>
</body>
</html>